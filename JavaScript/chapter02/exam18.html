<!DOCTYPE html>
<html lang="ko">

<head>
	<meta charset="UTF-8">
	<title>Insert title here</title>
	<link href="" rel="stylesheet">

</head>

<body>
	<div>
		<form id="guestForm" action="http://localhost:8080/mysite6/guestbook/add" method="GET">
			<table border="1" width="540px">
				<tr>
					<td>이름</td>
					<td>
						<input type="text" name="name">
					</td>
					<td>비밀번호</td>
					<td>
						<input type="password" name="pw">
					</td>
				</tr>
				<tr>
					<td colspan="4"><textarea cols="72" rows="5" name="content"></textarea></td>
				</tr>
				<tr>
					<td colspan="4">
						<button id="btnWrite" type="submit">등록</button>
					</td>
				</tr>
			</table>
	</div>
	</form>
	<br>

</body>

<script>
	// DOM tree가 완성되었을때
	document.addEventListener("DOMContentLoaded", function () {
		
		//
		let guestForm = document.querySelector("#guestForm");
		guestForm.addEventListener("submit", function(){
			console.log("전송버튼클릭");
			//event.preventDefault();
			
			let nameTag = document.querySelector("[name='name']");
			let pwTag = document.querySelector("[name='pw']");
			
			
			// 이름 체크
			let name = nameTag.value.trim();
			if(name == ""){	// 이름을 입력하지 않으면 폼 전송 하지말것
				event.preventDefault();	// 폼기능 제한
				window.alert("이름을 입력해주세요");	// 경고창
				return false;	// 이벤트 전파를 막는다
			}
			
			//패스워드 체크
			let pw = pwTag.value.trim();
			if(pw == ""){	// 이름을 입력하지 않으면 폼 전송 하지말것
				event.preventDefault();	// 폼기능 제한
				window.alert("비밀번호를 입력해주세요");	// 경고창
				return false;	// 이벤트 전파를 막는다
			}


			// 서버로 데이터 전송이 된다(폼의 월래기능 진행)
			//window.alert("전송완료");
			//return true;	// 보통 쓰지않는다
		});




	});


</script>

</html>